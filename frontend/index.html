<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Web RDP Client</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Outfit:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- Connection Panel -->
      <aside class="connection-panel" id="connectionPanel">
        <div class="panel-header">
          <div class="logo">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
              <line x1="8" y1="21" x2="16" y2="21"></line>
              <line x1="12" y1="17" x2="12" y2="21"></line>
            </svg>
            <span>VATLNetwork WebRDP</span>
          </div>
        </div>

        <form id="connectionForm" class="connection-form">
          <div class="form-section">
            <h3>Gateway</h3>

            <div class="form-group">
              <label for="gatewayHostname">Hostname / IP</label>
              <input
                type="text"
                id="gatewayHostname"
                name="gatewayHostname"
                value="vatlnet.serveftp.com"
                placeholder="gateway.vatlnetwork.net"
                required
                autocomplete="off"
              />
            </div>

            <div class="form-group">
              <label for="gatewayPort">Port</label>
              <input
                type="number"
                id="gatewayPort"
                name="gatewayPort"
                value="9460"
                min="1"
                max="65535"
                placeholder="9460"
              />
            </div>
          </div>

          <div class="form-section">
            <h3>Server</h3>

            <div class="form-group">
              <label for="hostname">Hostname / IP</label>
              <input
                type="text"
                id="hostname"
                name="hostname"
                value="rdp.vatlnetwork.net"
                placeholder="rdp.vatlnetwork.net"
                required
                autocomplete="off"
              />
            </div>

            <div class="form-group">
              <label for="port">Port</label>
              <input
                type="number"
                id="port"
                name="port"
                value="3389"
                min="1"
                max="65535"
                placeholder="3389"
              />
            </div>
          </div>

          <div class="form-section">
            <h3>Authentication <span class="optional">(optional)</span></h3>

            <div class="form-group">
              <label for="username">Username</label>
              <input
                type="text"
                id="username"
                name="username"
                value="rdp"
                placeholder="rdp"
                autocomplete="username"
              />
            </div>

            <div class="form-group">
              <label for="password">Password</label>
              <div class="password-wrapper">
                <input
                  type="password"
                  id="password"
                  name="password"
                  value="rdp"
                  placeholder="••••••••"
                  autocomplete="current-password"
                />
                <button
                  type="button"
                  class="toggle-password"
                  id="togglePassword"
                  aria-label="Toggle password visibility"
                >
                  <svg
                    class="eye-icon"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"
                    ></path>
                    <circle cx="12" cy="12" r="3"></circle>
                  </svg>
                  <svg
                    class="eye-off-icon hidden"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"
                    ></path>
                    <line x1="1" y1="1" x2="23" y2="23"></line>
                  </svg>
                </button>
              </div>
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn-connect" id="connectBtn">
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M5 12h14M12 5l7 7-7 7" />
              </svg>
              <span>Connect</span>
            </button>
            <button
              type="button"
              class="btn-disconnect hidden"
              id="disconnectBtn"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
              </svg>
              <span>Disconnect</span>
            </button>
          </div>

          <div class="form-actions form-actions-secondary">
            <button
              type="button"
              class="btn-error-log"
              id="errorLogBtn"
              title="View error log"
              aria-label="View error log"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                ></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <line x1="12" y1="18" x2="12" y2="12"></line>
                <line x1="9" y1="15" x2="15" y2="15"></line>
              </svg>
              <span>Error log</span>
            </button>
          </div>
        </form>

        <div class="status-section">
          <div class="status-indicator" id="statusIndicator">
            <span class="status-dot"></span>
            <span class="status-text">Disconnected</span>
          </div>
        </div>

        <div class="copyright">&copy; VATLNetwork 2026</div>

        <button class="panel-toggle" id="panelToggle" aria-label="Toggle panel">
          <svg
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <polyline points="15 18 9 12 15 6"></polyline>
          </svg>
        </button>
      </aside>

      <!-- Remote Desktop Display -->
      <main class="display-container" id="displayContainer">
        <!-- Display Toolbar -->
        <div class="display-toolbar hidden" id="displayToolbar">
          <button
            class="toolbar-btn"
            id="fullscreenBtn"
            title="Toggle Fullscreen (F11)"
          >
            <svg
              class="fullscreen-enter-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"
              ></path>
            </svg>
            <svg
              class="fullscreen-exit-icon hidden"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"
              ></path>
            </svg>
          </button>
          <button class="toolbar-btn" id="fitToWindowBtn" title="Fit to Window">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
              <path d="M9 3v18M3 9h18"></path>
            </svg>
          </button>
          <button
            class="toolbar-btn"
            id="actualSizeBtn"
            title="Actual Size (1:1)"
          >
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="12" cy="12" r="10"></circle>
              <path d="M12 8v8M8 12h8"></path>
            </svg>
          </button>
        </div>

        <div class="display-wrapper" id="displayWrapper">
          <div id="display" class="remote-display"></div>
        </div>

        <div class="placeholder" id="placeholder">
          <div class="placeholder-content">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
            >
              <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
              <line x1="8" y1="21" x2="16" y2="21"></line>
              <line x1="12" y1="17" x2="12" y2="21"></line>
            </svg>
            <h2>No Active Connection</h2>
            <p>
              Enter connection details and click Connect to start a remote
              desktop session
            </p>
          </div>
        </div>

        <div class="loading-overlay hidden" id="loadingOverlay">
          <div class="loader"></div>
          <p>Establishing connection...</p>
        </div>
      </main>
    </div>

    <!-- Error log modal -->
    <div class="modal-overlay hidden" id="errorLogModal" aria-hidden="true">
      <div
        class="modal"
        role="dialog"
        aria-labelledby="errorLogModalTitle"
        aria-modal="true"
      >
        <div class="modal-header">
          <h2 id="errorLogModalTitle">Error log</h2>
          <div class="modal-actions">
            <button
              type="button"
              class="btn-modal-secondary"
              id="errorLogClearBtn"
            >
              Clear
            </button>
            <button
              type="button"
              class="btn-modal-close"
              id="errorLogCloseBtn"
              aria-label="Close"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
              </svg>
            </button>
          </div>
        </div>
        <div class="modal-body">
          <div class="error-log-empty hidden" id="errorLogEmpty">
            No errors recorded.
          </div>
          <ul class="error-log-list" id="errorLogList"></ul>
        </div>
      </div>
    </div>

    <!-- Guacamole JS Library (Apache Guacamole Client) -->
    <script src="guacamole.js"></script>
    <script src="app.js"></script>
  </body>
</html>
